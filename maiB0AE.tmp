[gd_scene load_steps=23 format=3 uid="uid://drxt10pv7hq1j"]

[ext_resource type="Script" path="res://main.gd" id="1_43uib"]
[ext_resource type="Texture2D" uid="uid://bqgjr4efurrt0" path="res://images.jpg" id="2_wfgao"]
[ext_resource type="PackedScene" uid="uid://calw41c1rq5ny" path="res://Menu/Menuo.tscn" id="4_yv4uq"]
[ext_resource type="Script" path="res://Control2.gd" id="5_n5byn"]
[ext_resource type="AudioStream" uid="uid://bebdl6lv6qc76" path="res://cars/camera/Static-X - All in Wait.mp3" id="6_l5bvu"]
[ext_resource type="AudioStream" uid="uid://brljsspokvg2c" path="res://cars/camera/System Of A Down - Aerials (1).mp3" id="7_hjlf8"]
[ext_resource type="AudioStream" uid="uid://c4gv5qe0n6w1" path="res://cars/camera/System Of A Down - Sugar.mp3" id="8_lf3at"]
[ext_resource type="Script" path="res://time.gd" id="9_g0xmg"]
[ext_resource type="PackedScene" uid="uid://iqvpgd0616v4" path="res://Menu/control.tscn" id="9_qslus"]
[ext_resource type="PackedScene" uid="uid://dula4p824ku00" path="res://cars/node_3d.tscn" id="10_0oebp"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_b7tlo"]
sky_top_color = Color(0.235294, 0.32549, 0.376471, 1)
sky_horizon_color = Color(0.2, 0.215686, 0.219608, 1)
sky_cover_modulate = Color(0.172549, 0.513726, 0.741176, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.298039, 0.321569, 0.329412, 1)
sun_curve = 0.15529

[sub_resource type="Sky" id="Sky_ye2ye"]
sky_material = SubResource("ProceduralSkyMaterial_b7tlo")
process_mode = 3
radiance_size = 6

[sub_resource type="Environment" id="Environment_8dxyn"]
background_mode = 2
sky = SubResource("Sky_ye2ye")
tonemap_mode = 2
ssr_enabled = true
ssao_enabled = true
ssao_radius = 1.5
ssao_intensity = 0.6
ssao_power = 32.7849
ssil_enabled = true
sdfgi_y_scale = 2
glow_enabled = true

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_5i3x1"]
playback_mode = 1
streams_count = 3
stream_0/stream = ExtResource("6_l5bvu")
stream_0/weight = 1.0
stream_1/stream = ExtResource("7_hjlf8")
stream_1/weight = 1.0
stream_2/stream = ExtResource("8_lf3at")
stream_2/weight = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_eb618"]
size = Vector3(14.0818, 1, 6.94043)

[sub_resource type="BoxShape3D" id="BoxShape3D_uk6lx"]
size = Vector3(10.8753, 1, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_gmu0w"]
vertices = PackedVector3Array(-10.1859, 0.457516, 99.3509, -10.1859, 0.457516, 7.10093, -11.9359, 0.457516, 6.85093, -201.686, 0.457516, 99.3509, -11.9359, 0.457516, -6.89907, -10.1859, 0.457516, -7.14907, -10.1859, 0.457516, -99.3991, -201.686, 0.457516, -99.3991, -11.9359, 0.457516, 6.85093, -11.9359, 0.457516, -6.89907, -201.686, 0.457516, -99.3991, -201.686, 0.457516, 99.3509, -8.18591, 0.457516, -6.39907, 47.0641, 0.707516, -6.64907, 47.0641, 0.457516, -7.14907, -8.43591, 0.457516, -7.14907, -8.18591, 0.457516, -6.39907, 47.0641, 0.457516, -7.14907, 48.3141, 0.457516, -99.3991, -10.1859, 0.457516, -99.3991, 47.0641, 0.457516, -7.14907, 48.5641, 0.457516, -7.14907, 48.3141, 0.457516, -99.3991, -10.1859, 0.457516, -99.3991, -10.1859, 0.457516, -7.14907, -8.43591, 0.457516, -7.14907, 48.5641, 0.457516, -7.14907, 52.3141, 0.457516, -7.14907, 52.5641, 0.457516, -99.3991, 48.3141, 0.457516, -99.3991, 52.5641, 0.457516, -99.3991, 52.3141, 0.457516, -7.14907, 54.0641, 0.457516, -6.89907, 201.564, 0.457516, -4.89907, 201.564, 0.457516, -99.3991, 54.0641, 0.457516, -6.89907, 54.0641, 0.457516, -4.89907, 201.564, 0.457516, -4.89907, 47.0641, 0.707516, 6.10093, 53.0641, 1.70752, 6.10093, 53.0641, 1.70752, -6.14907, 47.0641, 0.707516, -6.14907, -8.18591, 0.457516, -6.39907, -8.18591, 0.457516, 6.35093, 47.0641, 0.707516, 6.10093, 47.0641, 0.707516, -6.14907, -8.18591, 0.457516, 6.35093, 47.0641, 0.707516, 6.60093, 47.0641, 0.707516, 6.10093, 47.0641, 0.707516, -6.14907, 47.0641, 0.707516, -6.64907, -8.18591, 0.457516, -6.39907, -10.9359, 2.95752, -6.14907, -10.9359, 2.95752, 6.10093, -9.18591, 2.95752, 6.10093, -9.18591, 2.95752, -6.14907, -10.6859, 0.457516, -5.89907, -10.6859, 0.457516, 5.85093, -9.43591, 0.457516, 5.85093, -9.43591, 0.457516, -5.89907, 54.0641, 0.457516, 4.85093, 201.564, 0.457516, 4.85093, 201.564, 0.457516, -4.89907, 54.0641, 0.457516, -4.89907, 54.0641, 0.457516, 6.85093, 52.3141, 0.457516, 7.10093, 52.5641, 0.457516, 99.3509, 201.564, 0.457516, 99.3509, 201.564, 0.457516, 4.85093, 201.564, 0.457516, 4.85093, 54.0641, 0.457516, 4.85093, 54.0641, 0.457516, 6.85093, 47.0641, 0.457516, 7.10093, 47.0641, 0.707516, 6.60093, -8.18591, 0.457516, 6.35093, 47.0641, 0.457516, 7.10093, -8.18591, 0.457516, 6.35093, -8.43591, 0.457516, 7.10093, -10.1859, 0.457516, 99.3509, 48.3141, 0.457516, 99.3509, 48.3141, 0.457516, 99.3509, 48.5641, 0.457516, 7.10093, 47.0641, 0.457516, 7.10093, -8.43591, 0.457516, 7.10093, -10.1859, 0.457516, 7.10093, -10.1859, 0.457516, 99.3509, 48.3141, 0.457516, 99.3509, 52.5641, 0.457516, 99.3509, 52.3141, 0.457516, 7.10093, 48.5641, 0.457516, 7.10093)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(8, 11, 9), PackedInt32Array(9, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(18, 15, 19), PackedInt32Array(22, 21, 20), PackedInt32Array(25, 24, 23), PackedInt32Array(26, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 34), PackedInt32Array(32, 34, 33), PackedInt32Array(37, 36, 35), PackedInt32Array(41, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(45, 44, 42), PackedInt32Array(42, 44, 43), PackedInt32Array(48, 47, 46), PackedInt32Array(51, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(63, 62, 60), PackedInt32Array(60, 62, 61), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 67), PackedInt32Array(67, 64, 68), PackedInt32Array(71, 70, 69), PackedInt32Array(74, 73, 72), PackedInt32Array(76, 75, 77), PackedInt32Array(77, 75, 79), PackedInt32Array(77, 79, 78), PackedInt32Array(82, 81, 80), PackedInt32Array(85, 84, 83), PackedInt32Array(89, 88, 86), PackedInt32Array(86, 88, 87)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2da72"]
albedo_texture = ExtResource("2_wfgao")
metallic_specular = 0.24
metallic_texture_channel = 1
roughness = 0.84
roughness_texture_channel = 1
normal_enabled = true
normal_scale = 16.0
uv1_triplanar = true

[sub_resource type="Shader" id="Shader_yugxn"]
code = "shader_type spatial;

void vertex() {
	// Called for every vertex the material is visible on.
}

void fragment() {
	// Called for every pixel the material is visible on.
}

//void light() {
	// Called for every pixel for every light affecting the material.
	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xve23"]
render_priority = 0
shader = SubResource("Shader_yugxn")

[sub_resource type="PlaneMesh" id="PlaneMesh_1ypv7"]

[sub_resource type="CylinderMesh" id="CylinderMesh_5jeqt"]
radial_segments = 20
rings = 1

[node name="Main" type="Node3D"]
script = ExtResource("1_43uib")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_8dxyn")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.80696, 0.183487, -0.56138, 0, 0.950516, 0.310676, 0.590606, -0.250704, 0.767029, 0, 43.5687, 0)
shadow_enabled = true
directional_shadow_max_distance = 200.0

[node name="Menuo" parent="." instance=ExtResource("4_yv4uq")]

[node name="Back2" type="Button" parent="Menuo"]
offset_left = -7.0
offset_top = 85.0
offset_right = 171.0
offset_bottom = 122.0
theme_override_colors/font_color = Color(0, 0.729412, 1, 0.85098)
text = "Back to menu"
flat = true

[node name="Button3" type="Button" parent="Menuo"]
offset_left = -6.0
offset_top = 40.0
offset_right = 172.0
offset_bottom = 77.0
theme_override_colors/font_color = Color(0, 0.729412, 1, 0.85098)
text = "Setting"
flat = true

[node name="Control2" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_top = 178.0
offset_right = 214.0
offset_bottom = 342.0
script = ExtResource("5_n5byn")

[node name="LineEdit" type="CodeEdit" parent="Control2"]
layout_mode = 0
offset_left = 135.0
offset_right = 212.0
offset_bottom = 37.0

[node name="LineEdit2" type="CodeEdit" parent="Control2"]
layout_mode = 0
offset_left = 134.0
offset_top = 53.0
offset_right = 211.0
offset_bottom = 90.0

[node name="Panel" type="CodeEdit" parent="Control2"]
layout_mode = 0
offset_right = 113.0
offset_bottom = 29.0

[node name="Panel2" type="CodeEdit" parent="Control2"]
layout_mode = 0
offset_left = 1.0
offset_top = 59.0
offset_right = 114.0
offset_bottom = 88.0

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_5i3x1")
volume_db = 40.755

[node name="Control3" parent="." instance=ExtResource("9_qslus")]

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 162.801, -0.49945, 93.3821)
size = Vector3(14.6368, 1, 1)

[node name="Label3D" type="Label3D" parent="CSGBox3D"]
transform = Transform3D(-0.825921, 0, -0.563786, 0, 1, 0, 0.563786, 0, -0.825921, 0, 8.00802, 0)
text = "Mission"
font_size = 962

[node name="Area3D" type="Area3D" parent="CSGBox3D"]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, 0.264459, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CSGBox3D/Area3D"]
transform = Transform3D(0.99991, 0.00887229, -0.0101109, -0.00890871, 0.999954, -0.0035637, 0.0100788, 0.00365344, 0.999943, 0.786194, 1.0158, 3.15)
shape = SubResource("BoxShape3D_eb618")

[node name="Label" type="Label" parent="CSGBox3D"]
visible = false
offset_left = 907.0
offset_top = 330.0
offset_right = 1143.0
offset_bottom = 400.0
text = "Готов участвовать в заезде
на время?
"

[node name="Button" type="Button" parent="CSGBox3D/Label"]
layout_mode = 0
offset_left = 2.0
offset_top = 69.0
offset_right = 71.0
offset_bottom = 100.0
text = "Да"

[node name="Button2" type="Button" parent="CSGBox3D/Label"]
layout_mode = 0
offset_left = 147.0
offset_top = 67.0
offset_right = 216.0
offset_bottom = 100.0
text = "Нет"

[node name="time" type="Label" parent="CSGBox3D"]
visible = false
offset_left = 540.0
offset_top = 3.0
offset_right = 601.0
offset_bottom = 26.0
scale = Vector2(2.925, 2.925)
script = ExtResource("9_g0xmg")

[node name="CSGBox3D2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 164.933, -0.489114, -96.2057)
size = Vector3(10.8462, 1, 1)

[node name="Area3D2" type="Area3D" parent="CSGBox3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CSGBox3D2/Area3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0375671, 1.12431, 0)
shape = SubResource("BoxShape3D_uk6lx")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4.76837e-07, 0)
navigation_mesh = SubResource("NavigationMesh_gmu0w")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
transform = Transform3D(2.45477, 0, 0, 0, 1, 0, 0, 0, 1.21289, 0, 4.76837e-07, 0)
material_override = SubResource("StandardMaterial3D_2da72")
use_collision = true

[node name="box" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.925521, -0.968715, 0, 0.378697, 2.3675, 0, 0, 0, 1, 18.2289, -0.192802, 0)
size = Vector3(7.59973, 0.135742, 10.8715)

[node name="box2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 2.55802, 0, 0, 0, 1, -4.09722, 1.32642, 0)
material_overlay = SubResource("ShaderMaterial_xve23")
size = Vector3(1, 1, 10.8715)

[node name="CSGMesh3D" type="CSGMesh3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(82.3645, 0, 0, 0, 82.3645, 0, 0, 0, 82.3645, 0, 0, 0)
mesh = SubResource("PlaneMesh_1ypv7")

[node name="speedBreaker" type="CSGMesh3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 24.1159)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="speedBreaker2" type="CSGMesh3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 27.7966)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="speedBreaker3" type="CSGMesh3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 31.6709)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="speedBreaker4" type="CSGMesh3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 35.184)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="bumps" type="CSGCombiner3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.24, 0)

[node name="box3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -11)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box4" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -12.0818)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box5" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -13.2459)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box6" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -14.3515)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box7" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -15.5533)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box8" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -16.6351)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -17.7991)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box10" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -18.9048)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.728096, 0.685475, 0, -0.685475, 0.728096, 0, 0, 0, 1, 17.7008, -0.58421, -18.858)
size = Vector3(1, 1, 11.543)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(0.996837, 0.0794684, 0, -0.0794684, 0.996837, 0, 0, 0, 1, 0.721357, 0.652523, 0.377764)
size = Vector3(1, 1, 11.543)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(0.997299, -0.0734469, 0, 0.0734469, 0.997299, 0, 0, 0, 1, 1.36095, 1.47157, -0.0220833)
size = Vector3(1, 1, 12.5526)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D/CSGBox3D2"]
transform = Transform3D(0.996837, 0.0794684, 0, -0.0794684, 0.996837, 0, 0, 0, 1, 0.721357, 0.652523, 0.377764)
size = Vector3(1, 1, 11.543)

[node name="Node3D" parent="." instance=ExtResource("10_0oebp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0167379, -25.6995)

[connection signal="pressed" from="Menuo/Back2" to="." method="_on_back_2_pressed"]
[connection signal="pressed" from="Menuo/Back2" to="Menuo" method="_on_back_2_pressed"]
[connection signal="body_entered" from="CSGBox3D/Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="body_exited" from="CSGBox3D/Area3D" to="." method="_on_area_3d_body_exited"]
[connection signal="pressed" from="CSGBox3D/Label/Button" to="." method="_on_button_pressed"]
[connection signal="pressed" from="CSGBox3D/Label/Button" to="CSGBox3D/time" method="_on_button_pressed"]
[connection signal="body_entered" from="CSGBox3D2/Area3D2" to="CSGBox3D/time" method="_on_area_3d_2_body_entered"]
